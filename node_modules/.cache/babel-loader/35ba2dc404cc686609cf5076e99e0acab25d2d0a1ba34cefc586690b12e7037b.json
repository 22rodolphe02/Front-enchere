{"ast":null,"code":"import _objectSpread from\"/home/rodolphe/Data/Rojo/git/Front-enchere/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/rodolphe/Data/Rojo/git/Front-enchere/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{getAuctionDetail}from\"../../services/EnchereService\";import Brand from\"../Brand\";import Footer from\"../Footer\";import OffreEnchere from\"./OffreEnchere\";import DetailEnchere from\"./DetailEnchere\";import{useForm}from\"react-hook-form\";import encherir from\"../../services/ClientService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Encherir(){var params=useParams();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],isLoad=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setDate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),press=_useState6[0],isPressed=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showConfirmation=_useState8[0],setShowConfirmation=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,register=_useForm.register;useEffect(function(){getAuctionDetail(params.id).then(function(res){setDate(res.data);isLoad(true);// console.log(data)\n});},[]);function offre(data){setMessage(null);var client=JSON.parse(sessionStorage.getItem(\"client\"));isPressed(true);if(client==null){window.location.href=\"/login\";}data.idClient=client.id;data.idEnchere=params.id;encherir(data).then(function(res){if(res.status===200){setMessage(res.data.message);isPressed(false);}}).catch(function(e){isPressed(false);});}if(!load){return/*#__PURE__*/_jsx(\"div\",{className:\"preloader\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Brand,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"auction-details-section pt-120\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"image\",src:require(\"../../assets/images/bg/section-bg.png\"),className:\"img-fluid section-bg-top\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"image\",src:require(\"../../assets/images/bg/section-bg.png\"),className:\"img-fluid section-bg-bottom\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4 mb-50\",children:[/*#__PURE__*/_jsx(DetailEnchere,{data:data}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-right  wow fadeInDown\",\"data-wow-duration\":\"1.5s\",\"data-wow-delay\":\".2s\",children:[/*#__PURE__*/_jsx(\"h3\",{children:data.produit}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Prix de l'ench\\xE8re: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"Ar \",data.prixMin]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bid-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-title\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Ench\\xE9rir maintenant\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Montant de l'ench\\xE8re : Ench\\xE8re minimum \",data.prixMin,\" Ar\"]})]}),message?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary\",role:\"alert\",children:message}):\"\",/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(offre),children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-inner gap-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Ar 00.00\"},register(\"montant\"))),/*#__PURE__*/_jsxs(\"button\",{className:!press?\"eg-btn btn--primary btn--sm\":\"eg-btn btn--mise-disable btn--sm\",disabled:press,children:[press?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-1\",role:\"status\"}):\"\",\"MISER\"]})]})})]})]})})]})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}","map":{"version":3,"names":["React","useEffect","useState","useParams","getAuctionDetail","Brand","Footer","OffreEnchere","DetailEnchere","useForm","encherir","Encherir","params","load","isLoad","data","setDate","press","isPressed","showConfirmation","setShowConfirmation","message","setMessage","handleSubmit","register","id","then","res","offre","client","JSON","parse","sessionStorage","getItem","window","location","href","idClient","idEnchere","status","catch","e","require","produit","prixMin"],"sources":["/home/rodolphe/Data/Rojo/git/Front-enchere/src/components/enchere/Encherir.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {getAuctionDetail} from \"../../services/EnchereService\";\nimport Brand from \"../Brand\";\nimport Footer from \"../Footer\";\nimport OffreEnchere from \"./OffreEnchere\";\nimport DetailEnchere from \"./DetailEnchere\";\nimport {useForm} from \"react-hook-form\";\nimport encherir from \"../../services/ClientService\";\n\nexport default function Encherir(){\n    const params = useParams();\n    const [load, isLoad] = useState(false);\n    const [data, setDate] = useState(null);\n    const [press, isPressed] = useState(false);\n    const [showConfirmation, setShowConfirmation] = useState(false);\n    const [message, setMessage] = useState(null);\n    const {handleSubmit, register} = useForm()\n\n    useEffect(()=>{\n        getAuctionDetail(params.id).then(res => {\n            setDate(res.data);\n            isLoad(true)\n            // console.log(data)\n        })\n    }, [])\n\n    function offre(data){\n        setMessage(null)\n        const client = JSON.parse(sessionStorage.getItem(\"client\"));\n        isPressed(true);\n        if (client == null){\n            window.location.href = \"/login\"\n        }\n\n        data.idClient = client.id;\n        data.idEnchere = params.id;\n\n        encherir(data).then(res => {\n            if (res.status === 200) {\n                setMessage(res.data.message);\n                isPressed(false)\n            }\n        }).catch(e => {\n            isPressed(false);\n        });\n    }\n\n    if (!load){\n        return (\n            <div className=\"preloader\">\n                <div className=\"loader\">\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </div>\n            </div>\n        )\n    }else{\n        return(\n            <>\n\n                <Brand></Brand>\n                <div className=\"auction-details-section pt-120\">\n                    <img alt=\"image\" src={require(\"../../assets/images/bg/section-bg.png\")} className=\"img-fluid section-bg-top\" />\n                    <img alt=\"image\" src={require(\"../../assets/images/bg/section-bg.png\")} className=\"img-fluid section-bg-bottom\" />\n                    <div className=\"container\">\n                        <div className=\"row g-4 mb-50\">\n                            <DetailEnchere data={data} />\n                            <div className=\"col-xl-6 col-lg-5\">\n\n                                <div className=\"product-details-right  wow fadeInDown\" data-wow-duration=\"1.5s\"\n                                     data-wow-delay=\".2s\">\n                                    <h3>{data.produit}</h3>\n                                    <h4>Prix de l'enchère: <span>Ar {data.prixMin}</span></h4>\n                                    <div className=\"bid-form\">\n                                        <div className=\"form-title\">\n                                            <h5>Enchérir maintenant</h5>\n                                            <p>Montant de l'enchère : Enchère minimum {data.prixMin} Ar</p>\n                                        </div>\n                                        {message ?\n                                            <div className=\"alert alert-primary\" role=\"alert\">\n                                                {message}\n                                            </div>: \"\"\n                                        }\n                                        \n                                        <form onSubmit={handleSubmit(offre)}>\n                                            <div className=\"form-inner gap-2\">\n                                                <input type=\"text\" placeholder=\"Ar 00.00\" {...register(\"montant\")} />\n\n                                                <button className={!press ? \"eg-btn btn--primary btn--sm\" : \"eg-btn btn--mise-disable btn--sm\"} disabled={press}>\n                                                    {press ? <div className=\"spinner-border spinner-border-sm me-1\" role=\"status\" >\n\n                                                    </div> : \"\" }MISER</button>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Footer></Footer>\n            </>\n\n        )\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}